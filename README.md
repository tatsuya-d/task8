# task8

|単語|意味 | 
|---:| :---: | 
|DB（データベース）|データベースには複数のテーブルという概念。種類もあり、例としてRDB（リレーショナルデータベース）、NoSQL（Not only SQL）など|
|図例|<img width="643" alt="スクリーンショット 2023-07-06 13 23 44" src="https://github.com/tatsuya-d/task8/assets/133928911/b45b8993-29fa-4a64-a4b7-21b92de0347a">|
|RDB（リレーションデータベース）|RDBとは、表形式の複数データを関連付けて使えるようにしたデータベースのことです。表と表の関係を定義することで複雑な構造のデータも扱うことができる。また、データベースの操作は「SQL」というデータベース言語（クエリ言語）を用いて行う。|
|RDBのメリット|RDBはデータの一貫性が評価されています。一貫性とは「処理が正しく実行されればその結果が表示され、処理が正しく実行されなければ前の状態が表示される」という性質。この性質は、RDBの設計におけるルールである「ACID特性」によって実現されています。RDBは複数のテーブルを活用することで処理コストを低減しています。テーブルとは、データベース内でデータを管理する単位のことです。RDBでは各テーブルが連結されており、追加・削除・更新といった処理に発生するコストを最小限に抑えています。|
|RDBのデメリット|RDBはプログラムが複雑化する傾向があり、処理が遅くなりやすい点がデメリットとして挙げられます。特に、膨大なサイズのデータを処理する場合は、業務効率に影響するほど速度が遅くなることも少なくありません。``` NoSQLデータベースは、RDBの処理の遅さを解消するために開発されたデータベースです。```RDBはサーバ1台で実行するように設計されている関係上、あとから拡張することは困難です。データの読み込みに関わる部分は比較的簡単に拡張できますが、書き込みに関わる部分の拡張は時間やコストの問題から現実的ではありません。|
|図例|<img width="607" alt="スクリーンショット 2023-07-06 13 48 34" src="https://github.com/tatsuya-d/task8/assets/133928911/f9e3a5b1-cb4b-40af-8946-2777536c5146">
|RDBMS（データベース管理システム）|データベースを扱うための道具。種類があり、Oracle Database（Oracle）、Microsoft SQL Server（Microsoft）、IBM DB2（IBM）代表的なオープンソースはMySQL、Postgre SQL|
|RDBMSの機能|データベース言語（SQL）の提供。データベース管理システムは、ユーザーやアプリケーションがRDBMSに指示を与え、データを利用するための言語（データベース言語）を提供します。RDBMSのデータベース言語は「SQL」です。データベース言語は以下の3要素から成る。|
|DML（データ操作言語）|データの検索、新規登録、更新、削除を行うための言語です。SQLのSELECT、INSERT、UPDATE、DELETE等を指す。|
|DDL（データ定義言語）|データの構造、格納場所等を定義するための言語です。テーブルやインデックスを作成するCREATE、変更・削除するALTER、DROP等を指す。|
|DCL（データ制御言語）|データへのアクセス制御を行ったり、データの管理をして信頼性を保証するための言語です。データベース利用者に特定の権限を与えるGRANT、権限を剥奪するREVOKE、トランザクション管理（のちに詳しく解説します）のためのCOMMIT、ROLLBACK等を指す。|
|トランザクション処理|トランザクションとは、データをある一貫した状態にするためのひとまとまりの処理。例えば販売管理システムにおいてある商品を販売した場合、1. 在庫管理テーブルを更新し在庫を減らす2. 販売記録テーブルに情報を追加する3. 販売明細記録テーブルに情報を追加するというように、データに矛盾がないようにするためには複数のテーブル更新が必要になります。この一連の処理がトランザクション。RDBMSには```ACID特性```という性質を守りながらトランザクションを管理する機能がある。|
|原子性|トランザクションは完全に実行されるか、まったく実行されないかどちらかでなくてはならない。もしトランザクションの一部の処理が失敗した場合は、その他の処理結果も反映しない必要がある。|
|一貫性|トランザクションを実行したことによって、データに矛盾がある状態になってはいけない。|
|独立性|トランザクションを同時に複数実行していたとしても、単独で実行した場合と同じ結果にならなくてはいけない。上のトランザクションを例にすると、残り一個の在庫の購入処理が完了する前に他のユーザーが購入処理をした場合、最後の一つの商品を購入した販売記録が複数できてしまうおそれがあり、それを防ぐために適宜データベースにロックをかけ、先のトランザクションが終了するまで他の操作でテーブルを更新できないようにします。|
|永続性|システム障害が発生したとしても、すでに正常に完了済みのトランザクションの結果は失われてはいけない。この性質は、この後解説する障害からの復旧機能で実現される。|
|障害からの復旧|RDBMSは、ハードウェアの障害やユーザーの誤操作などでデータが損失するといったデータベース障害が発生した際に、データの信頼性を保証するための機能を備えていて、障害からの回復にはバックアップファイル（ある時点でのデータベースの情報をコピーしたファイル）と、バックアップ取得以後のログファイル（データベースに対してどんな変更を行ったかの履歴）が必要。障害が発生した場合、データベースをバックアップファイルと置き換えたのちに、ログファイルに記録された変更を再度RDMSに実行させることで障害発生前のデータを回復させることができる。|
|分散データベース|RDBMSは分散データベースシステムをサポートしている。分散データベースとは、ネットワークで接続された複数のデータベースを、あたかもひとつのデータベースのように動かす技術。分散データベースを構成しているデータベースであれば、一回の問い合わせで別々のデータベースから同時にデータを取得することができる。同様に、データの変更も同時に行うことができる。この時、ユーザーはデータが格納されている場所を意識する必要がない。分散データベースを構築することで、仮に一つのデータベースに障害が発生してもほかのデータベースにアクセスすることでシステム全体が利用不可になることを防ぐ。また、処理性能の向上も期待できて、Oracleでは複数のOracleデータベースによる分散データベース・システムのほか、他のデータベース製品を含む分散データベース（異機種間分散データベース・システム）をサポートしている。|

